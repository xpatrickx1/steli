"use strict";$(document).ready(function(){function e(e){var t=document.createElement("div");return t.classList.add("input-group"),t.innerHTML='\n\n        <label for="'.concat(e.name,'">').concat(e.name," ").concat(e.unit||"",'</label>\n\n        <input type="number" id="').concat(e.name,'" value="').concat(e.value,'">\n\n        <div class="calc__buttons">\n\n        <button class="decrement">-</button>\n\n        <button class="increment">+</button>\n\n        </div>\n\n      '),t.querySelector(".decrement").addEventListener("click",function(){e.value=Math.max(0,e.value-1),document.getElementById(e.name).value=e.value,n()}),t.querySelector(".increment").addEventListener("click",function(){e.value++,document.getElementById(e.name).value=e.value,n()}),t}function n(){var e=a(i);console.log(e),c.textContent=e/100*70,o.textContent=e,r.textContent=e/100*120}function t(e){for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n].value;return null}function a(e){return 1e3+50*t("square")+20*t("angles")+20*t("lightingPoints")+20*t("chandeliers")+20*t("rod")}var l=document.getElementById("parameters"),o=document.getElementById("resultPriceFrom"),r=document.getElementById("resultPriceTo"),c=document.getElementById("wrongPrice"),i=(document.getElementById("result-details"),[{name:"square",unit:"Ð¼2",value:17},{name:"angles",value:4},{name:"lightingPoints",value:0},{name:"chandeliers",value:0},{name:"rod",value:0}]);console.log(get_locale()),i.forEach(function(n){l.appendChild(e(n))}),n(),$(".inner__sidebar a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=$(this.hash);e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length&&$("html, body").animate({scrollTop:e.offset().top-175},1e3)}});var u,s=$(".inner__sidebar"),m=s.outerHeight()+1,d=s.find("a"),h=d.map(function(){var e=$($(this).attr("href"));if(e.length)return e});d.click(function(e){var n=$(this).attr("href"),t="#"===n?0:$(n).offset().top-m+1;$("html, body").stop().animate({scrollTop:t},850),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+m,n=h.map(function(){if($(this).offset().top<e)return this});n=n[n.length-1];var t=n&&n.length?n[0].id:"";u!==t&&(u=t,d.parent().removeClass("active").end().filter('[href="#'+t+'"]').parent().addClass("active"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtaW5uZXIuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjcmVhdGVQYXJhbWV0ZXJFbGVtZW50IiwicGFyYW1ldGVyIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImNvbmNhdCIsIm5hbWUiLCJ1bml0IiwidmFsdWUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1hdGgiLCJtYXgiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0ZVJlc3VsdCIsInRvdGFsUHJpY2UiLCJjYWxjdWxhdGVQcmljZSIsInBhcmFtZXRlcnMiLCJjb25zb2xlIiwibG9nIiwid3JvbmdQcmljZSIsInRleHRDb250ZW50IiwicmVzdWx0UHJpY2VGcm9tIiwicmVzdWx0UHJpY2VUbyIsImdldFZhbHVlQnlOYW1lIiwiaSIsImxlbmd0aCIsInBhcmFtZXRlcnNDb250YWluZXIiLCJnZXRfbG9jYWxlIiwiZm9yRWFjaCIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicmVwbGFjZSIsInRoaXMiLCJob3N0bmFtZSIsInRhcmdldCIsImhhc2giLCJzbGljZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJsYXN0SWQiLCJ0b3BNZW51IiwidG9wTWVudUhlaWdodCIsIm91dGVySGVpZ2h0IiwibWVudUl0ZW1zIiwiZmluZCIsInNjcm9sbEl0ZW1zIiwibWFwIiwiaXRlbSIsImF0dHIiLCJlIiwiaHJlZiIsIm9mZnNldFRvcCIsInN0b3AiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsInNjcm9sbCIsImZyb21Ub3AiLCJjdXIiLCJpZCIsInBhcmVudCIsInJlbW92ZUNsYXNzIiwiZW5kIiwiZmlsdGVyIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJZQUFBQSxHQUFFQyxVQUFVQyxNQUFNLFdBa0NkLFFBQVNDLEdBQXVCQyxHQUU1QixH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SEYsRUFBRUksbUJBR04vRCxFQUFFZ0UsUUFBUUMsT0FBTyxXQUNiLEdBQUlDLEdBQVVsRSxFQUFFd0MsTUFBTU0sWUFBWUssRUFFOUJnQixFQUFNWixFQUFZQyxJQUFJLFdBQ3RCLEdBQUl4RCxFQUFFd0MsTUFBTU8sU0FBU0MsSUFBTWtCLEVBQ3ZCLE1BQU8xQixPQUVmMkIsR0FBTUEsRUFBSUEsRUFBSXBDLE9BQU8sRUFDckIsSUFBSXFDLEdBQUtELEdBQU9BLEVBQUlwQyxPQUFTb0MsRUFBSSxHQUFHQyxHQUFLLEVBRXJDbkIsS0FBV21CLElBQ1huQixFQUFTbUIsRUFDVGYsRUFDS2dCLFNBQVNDLFlBQVksVUFDckJDLE1BQU1DLE9BQU8sV0FBV0osRUFBRyxNQUFNQyxTQUFTSSxTQUFTIiwiZmlsZSI6ImpzL21pbi9wYWdlLWlubmVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHJcbiAgICBjb25zdCBwYXJhbWV0ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmFtZXRlcnMnKTtcblxyXG4gICAgY29uc3QgcmVzdWx0UHJpY2VGcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdFByaWNlRnJvbScpO1xuXHJcbiAgICBjb25zdCByZXN1bHRQcmljZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdFByaWNlVG8nKTtcblxyXG4gICAgY29uc3Qgd3JvbmdQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cm9uZ1ByaWNlJyk7XG5cclxuICAgIGNvbnN0IHJlc3VsdERldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0LWRldGFpbHMnKTtcblxyXG4gICAgXG5cclxuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBbXG5cclxuICAgICAgICB7IG5hbWU6ICdzcXVhcmUnLCB1bml0OiAn0LwyJywgdmFsdWU6IDE3IH0sXG5cclxuICAgICAgICB7IG5hbWU6ICdhbmdsZXMnLCB2YWx1ZTogNCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAnbGlnaHRpbmdQb2ludHMnLCB2YWx1ZTogMCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAnY2hhbmRlbGllcnMnLCB2YWx1ZTogMCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAncm9kJywgdmFsdWU6IDAgfSxcblxyXG4gICAgXTtcblxyXG4gICAgXG5cclxuICAgIGNvbnNvbGUubG9nKGdldF9sb2NhbGUoKSk7XG5cclxuICAgIFxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJhbWV0ZXJFbGVtZW50KHBhcmFtZXRlcikge1xuXHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cclxuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnaW5wdXQtZ3JvdXAnKTtcblxyXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBgXG5cclxuICAgICAgICA8bGFiZWwgZm9yPVwiJHtwYXJhbWV0ZXIubmFtZX1cIj4ke3BhcmFtZXRlci5uYW1lfSAke3BhcmFtZXRlci51bml0IHx8ICcnfTwvbGFiZWw+XG5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiJHtwYXJhbWV0ZXIubmFtZX1cIiB2YWx1ZT1cIiR7cGFyYW1ldGVyLnZhbHVlfVwiPlxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhbGNfX2J1dHRvbnNcIj5cblxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJkZWNyZW1lbnRcIj4tPC9idXR0b24+XG5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiaW5jcmVtZW50XCI+KzwvYnV0dG9uPlxuXHJcbiAgICAgICAgPC9kaXY+XG5cclxuICAgICAgYDtcblxyXG4gICAgXG5cclxuICAgICAgICBjb25zdCBkZWNyZW1lbnRCdXR0b24gPSBkaXYucXVlcnlTZWxlY3RvcignLmRlY3JlbWVudCcpO1xuXHJcbiAgICAgICAgZGVjcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHJcbiAgICAgICAgICAgIHBhcmFtZXRlci52YWx1ZSA9IE1hdGgubWF4KDAsIHBhcmFtZXRlci52YWx1ZSAtIDEpO1xuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmFtZXRlci5uYW1lKS52YWx1ZSA9IHBhcmFtZXRlci52YWx1ZTtcblxyXG4gICAgICAgICAgICB1cGRhdGVSZXN1bHQoKTtcblxyXG4gICAgICAgIH0pO1xuXHJcbiAgICBcblxyXG4gICAgICAgIGNvbnN0IGluY3JlbWVudEJ1dHRvbiA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuaW5jcmVtZW50Jyk7XG5cclxuICAgICAgICBpbmNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cclxuICAgICAgICAgICAgcGFyYW1ldGVyLnZhbHVlKys7XG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyYW1ldGVyLm5hbWUpLnZhbHVlID0gcGFyYW1ldGVyLnZhbHVlO1xuXHJcbiAgICAgICAgICAgIHVwZGF0ZVJlc3VsdCgpO1xuXHJcbiAgICAgICAgfSk7XG5cclxuICAgIFxuXHJcbiAgICAgICAgcmV0dXJuIGRpdjtcblxyXG4gICAgfVxuXHJcbiAgICBcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlUmVzdWx0KCkge1xuXHJcbiAgICAgICAgLy8g0KDQvtC30YDQsNGF0YPQvdC+0Log0LLQsNGA0YLQvtGB0YLRliDQvdCwINC+0YHQvdC+0LLRliDQt9C90LDRh9C10L3RjCDQv9Cw0YDQsNC80LXRgtGA0ZbQslxuXHJcbiAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IGNhbGN1bGF0ZVByaWNlKHBhcmFtZXRlcnMpO1xuXHJcbiAgICAgICAgY29uc29sZS5sb2codG90YWxQcmljZSk7XG5cclxuICAgICAgICB3cm9uZ1ByaWNlLnRleHRDb250ZW50ID0gdG90YWxQcmljZSAvIDEwMCAqIDcwO1xuXHJcbiAgICAgICAgcmVzdWx0UHJpY2VGcm9tLnRleHRDb250ZW50ID0gdG90YWxQcmljZTtcblxyXG4gICAgICAgIHJlc3VsdFByaWNlVG8udGV4dENvbnRlbnQgPSB0b3RhbFByaWNlIC8gMTAwICogMTIwO1xuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICBmdW5jdGlvbiBnZXRWYWx1ZUJ5TmFtZShuYW1lKSB7XG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcblxyXG4gICAgICAgICAgICBpZiAocGFyYW1ldGVyc1tpXS5uYW1lID09PSBuYW1lKSB7XG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbWV0ZXJzW2ldLnZhbHVlO1xuXHJcbiAgICAgICAgICAgIH1cblxyXG4gICAgICAgIH1cblxyXG4gICAgICAgIHJldHVybiBudWxsOyBcblxyXG4gICAgfVxuXHJcbiAgICBcblxyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlUHJpY2UocGFyYW1ldGVycykge1xuXHJcbiAgICAgICAgY29uc3QgYmFzZVByaWNlID0gMTAwMDtcblxyXG4gICAgICAgIGNvbnN0IGFyZWFQcmljZSA9IGdldFZhbHVlQnlOYW1lKCdzcXVhcmUnKSAqIDUwO1xuXHJcbiAgICAgICAgY29uc3QgY29ybmVyc1ByaWNlID0gZ2V0VmFsdWVCeU5hbWUoJ2FuZ2xlcycpICogMjA7XG5cclxuICAgICAgICBjb25zdCBsaWdodGluZ1BvaW50c1ByaWNlID0gZ2V0VmFsdWVCeU5hbWUoJ2xpZ2h0aW5nUG9pbnRzJykgKiAyMDtcblxyXG4gICAgICAgIGNvbnN0IGNoYW5kZWxpZXJzUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgnY2hhbmRlbGllcnMnKSAqIDIwO1xuXHJcbiAgICAgICAgY29uc3Qgcm9kUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgncm9kJykgKiAyMDtcblxyXG4gICAgICAgIHJldHVybiBiYXNlUHJpY2UgKyBhcmVhUHJpY2UgKyBjb3JuZXJzUHJpY2UgKyBsaWdodGluZ1BvaW50c1ByaWNlICsgY2hhbmRlbGllcnNQcmljZSArIHJvZFByaWNlOyAvLyDQn9C+0LLQtdGA0L3Rg9GC0Lgg0YDQvtC30YDQsNGF0L7QstCw0L3RgyDRhtGW0L3Rg1xuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICBwYXJhbWV0ZXJzLmZvckVhY2gocGFyYW1ldGVyID0+IHtcblxyXG4gICAgICAgIHBhcmFtZXRlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlUGFyYW1ldGVyRWxlbWVudChwYXJhbWV0ZXIpKTtcblxyXG4gICAgfSk7XG5cclxuICAgIFxuXHJcbiAgICB1cGRhdGVSZXN1bHQoKTtcclxuXHJcbiAgICAkKCAnLmlubmVyX19zaWRlYmFyIGEnICkuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpIHx8XHJcbiAgICAgICAgICBsb2NhdGlvbi5ob3N0bmFtZSA9PSB0aGlzLmhvc3RuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKCdbbmFtZT0nICsgdGhpcy5oYXNoLnNsaWNlKDEpICsgJ10nKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3AgLSAxNzVcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGxhc3RJZCxcclxuICAgICAgICB0b3BNZW51ID0gJCgnLmlubmVyX19zaWRlYmFyJyksXHJcbiAgICAgICAgdG9wTWVudUhlaWdodCA9IHRvcE1lbnUub3V0ZXJIZWlnaHQoKSsxLFxyXG4gICAgICAgIG1lbnVJdGVtcyA9IHRvcE1lbnUuZmluZCgnYScpLFxyXG4gICAgICAgIHNjcm9sbEl0ZW1zID0gbWVudUl0ZW1zLm1hcChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoJCh0aGlzKS5hdHRyKCdocmVmJykpO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGgpIHsgcmV0dXJuIGl0ZW07IH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBtZW51SXRlbXMuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcclxuICAgICAgICAgICAgb2Zmc2V0VG9wID0gaHJlZiA9PT0gJyMnID8gMCA6ICQoaHJlZikub2Zmc2V0KCkudG9wLXRvcE1lbnVIZWlnaHQrMTtcclxuICAgICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoeyBcclxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3BcclxuICAgICAgICB9LCA4NTApO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZnJvbVRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCkrdG9wTWVudUhlaWdodDtcclxuICBcclxuICAgICAgICB2YXIgY3VyID0gc2Nyb2xsSXRlbXMubWFwKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLm9mZnNldCgpLnRvcCA8IGZyb21Ub3ApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdXIgPSBjdXJbY3VyLmxlbmd0aC0xXTtcclxuICAgICAgICB2YXIgaWQgPSBjdXIgJiYgY3VyLmxlbmd0aCA/IGN1clswXS5pZCA6ICcnO1xyXG4gIFxyXG4gICAgICAgIGlmIChsYXN0SWQgIT09IGlkKSB7XHJcbiAgICAgICAgICAgIGxhc3RJZCA9IGlkO1xyXG4gICAgICAgICAgICBtZW51SXRlbXNcclxuICAgICAgICAgICAgICAgIC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIC5lbmQoKS5maWx0ZXIoJ1tocmVmPVwiIycraWQrJ1wiXScpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9ICAgICAgICAgICAgICAgICAgIFxyXG4gICAgfSk7XHJcbn0pOyJdfQ==
