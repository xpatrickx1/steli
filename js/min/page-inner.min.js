"use strict";$(document).ready(function(){function e(e){var t=document.createElement("div");return t.classList.add("input-group"),t.innerHTML='\n\n        <label for="'.concat(e.name,'">').concat(e.name," ").concat(e.unit||"",'</label>\n\n        <input type="number" id="').concat(e.name,'" value="').concat(e.value,'">\n\n        <div class="calc__buttons">\n\n        <button class="decrement">-</button>\n\n        <button class="increment">+</button>\n\n        </div>\n\n      '),t.querySelector(".decrement").addEventListener("click",function(){e.value=Math.max(0,e.value-1),document.getElementById(e.name).value=e.value,n()}),t.querySelector(".increment").addEventListener("click",function(){e.value++,document.getElementById(e.name).value=e.value,n()}),t}function n(){var e=a(c);console.log(e),i.textContent=e/100*70,r.textContent=e,o.textContent=e/100*120}function t(e){for(var n=0;n<c.length;n++)if(c[n].name===e)return c[n].value;return null}function a(e){return 1e3+50*t("square")+20*t("angles")+20*t("lightingPoints")+20*t("chandeliers")+20*t("rod")}var l=document.getElementById("parameters"),r=document.getElementById("resultPriceFrom"),o=document.getElementById("resultPriceTo"),i=document.getElementById("wrongPrice"),c=(document.getElementById("result-details"),[{name:"square",unit:"Ð¼2",value:17},{name:"angles",value:4},{name:"lightingPoints",value:0},{name:"chandeliers",value:0},{name:"rod",value:0}]);c.forEach(function(n){l.appendChild(e(n))}),n(),$(".inner__sidebar a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=$(this.hash);e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length&&$("html, body").animate({scrollTop:e.offset().top-175},1e3)}});var u,s=$(".inner__sidebar"),m=s.outerHeight()+1,d=s.find("a"),h=d.map(function(){var e=$($(this).attr("href"));if(e.length)return e});d.click(function(e){var n=$(this).attr("href"),t="#"===n?0:$(n).offset().top-m+1;$("html, body").stop().animate({scrollTop:t},850),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+m,n=h.map(function(){if($(this).offset().top<e)return this});n=n[n.length-1];var t=n&&n.length?n[0].id:"";u!==t&&(u=t,d.parent().removeClass("active").end().filter('[href="#'+t+'"]').parent().addClass("active"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtaW5uZXIuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjcmVhdGVQYXJhbWV0ZXJFbGVtZW50IiwicGFyYW1ldGVyIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImNvbmNhdCIsIm5hbWUiLCJ1bml0IiwidmFsdWUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1hdGgiLCJtYXgiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0ZVJlc3VsdCIsInRvdGFsUHJpY2UiLCJjYWxjdWxhdGVQcmljZSIsInBhcmFtZXRlcnMiLCJjb25zb2xlIiwibG9nIiwid3JvbmdQcmljZSIsInRleHRDb250ZW50IiwicmVzdWx0UHJpY2VGcm9tIiwicmVzdWx0UHJpY2VUbyIsImdldFZhbHVlQnlOYW1lIiwiaSIsImxlbmd0aCIsInBhcmFtZXRlcnNDb250YWluZXIiLCJmb3JFYWNoIiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwidGhpcyIsImhvc3RuYW1lIiwidGFyZ2V0IiwiaGFzaCIsInNsaWNlIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImxhc3RJZCIsInRvcE1lbnUiLCJ0b3BNZW51SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJtZW51SXRlbXMiLCJmaW5kIiwic2Nyb2xsSXRlbXMiLCJtYXAiLCJpdGVtIiwiYXR0ciIsImUiLCJocmVmIiwib2Zmc2V0VG9wIiwic3RvcCIsInByZXZlbnREZWZhdWx0Iiwid2luZG93Iiwic2Nyb2xsIiwiZnJvbVRvcCIsImN1ciIsImlkIiwicGFyZW50IiwicmVtb3ZlQ2xhc3MiLCJlbmQiLCJmaWx0ZXIiLCJhZGRDbGFzcyJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUVDLFVBQVVDLE1BQU0sV0FrQ2QsUUFBU0MsR0FBdUJDLEdBRTVCLEdBQU1DLEdBQU1KLFNB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T0FBTyxXQUNiLEdBQUlDLEdBQVVqRSxFQUFFdUMsTUFBTU0sWUFBWUssRUFFOUJnQixFQUFNWixFQUFZQyxJQUFJLFdBQ3RCLEdBQUl2RCxFQUFFdUMsTUFBTU8sU0FBU0MsSUFBTWtCLEVBQ3ZCLE1BQU8xQixPQUVmMkIsR0FBTUEsRUFBSUEsRUFBSW5DLE9BQU8sRUFDckIsSUFBSW9DLEdBQUtELEdBQU9BLEVBQUluQyxPQUFTbUMsRUFBSSxHQUFHQyxHQUFLLEVBRXJDbkIsS0FBV21CLElBQ1huQixFQUFTbUIsRUFDVGYsRUFDS2dCLFNBQVNDLFlBQVksVUFDckJDLE1BQU1DLE9BQU8sV0FBV0osRUFBRyxNQUFNQyxTQUFTSSxTQUFTIiwiZmlsZSI6ImpzL21pbi9wYWdlLWlubmVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHJcbiAgICBjb25zdCBwYXJhbWV0ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmFtZXRlcnMnKTtcblxyXG4gICAgY29uc3QgcmVzdWx0UHJpY2VGcm9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdFByaWNlRnJvbScpO1xuXHJcbiAgICBjb25zdCByZXN1bHRQcmljZVRvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdFByaWNlVG8nKTtcblxyXG4gICAgY29uc3Qgd3JvbmdQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cm9uZ1ByaWNlJyk7XG5cclxuICAgIGNvbnN0IHJlc3VsdERldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0LWRldGFpbHMnKTtcblxyXG4gICAgXG5cclxuICAgIC8vINCc0LDRgdC40LIg0Lcg0L/QsNGA0LDQvNC10YLRgNCw0LzQuCDRgtCwINGX0YXQvdGW0LzQuCDQv9C+0YfQsNGC0LrQvtCy0LjQvNC4INC30L3QsNGH0LXQvdC90Y/QvNC4XG5cclxuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBbXG5cclxuICAgICAgICB7IG5hbWU6ICdzcXVhcmUnLCB1bml0OiAn0LwyJywgdmFsdWU6IDE3IH0sXG5cclxuICAgICAgICB7IG5hbWU6ICdhbmdsZXMnLCB2YWx1ZTogNCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAnbGlnaHRpbmdQb2ludHMnLCB2YWx1ZTogMCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAnY2hhbmRlbGllcnMnLCB2YWx1ZTogMCB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAncm9kJywgdmFsdWU6IDAgfSxcblxyXG4gICAgXTtcblxyXG4gICAgXG5cclxuICAgIC8vINCk0YPQvdC60YbRltGPINC00LvRjyDRgdGC0LLQvtGA0LXQvdC90Y8g0LXQu9C10LzQtdC90YLRltCyINGD0L/RgNCw0LLQu9GW0L3QvdGPINC00LvRjyDQv9Cw0YDQsNC80LXRgtGA0LBcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFyYW1ldGVyRWxlbWVudChwYXJhbWV0ZXIpIHtcblxyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHJcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2lucHV0LWdyb3VwJyk7XG5cclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gYFxuXHJcbiAgICAgICAgPGxhYmVsIGZvcj1cIiR7cGFyYW1ldGVyLm5hbWV9XCI+JHtwYXJhbWV0ZXIubmFtZX0gJHtwYXJhbWV0ZXIudW5pdCB8fCAnJ308L2xhYmVsPlxuXHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBpZD1cIiR7cGFyYW1ldGVyLm5hbWV9XCIgdmFsdWU9XCIke3BhcmFtZXRlci52YWx1ZX1cIj5cblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYWxjX19idXR0b25zXCI+XG5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGVjcmVtZW50XCI+LTwvYnV0dG9uPlxuXHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImluY3JlbWVudFwiPis8L2J1dHRvbj5cblxyXG4gICAgICAgIDwvZGl2PlxuXHJcbiAgICAgIGA7XG5cclxuICAgIFxuXHJcbiAgICAgICAgLy8g0J7QsdGA0L7QsdC90LjQutC4INC/0L7QtNGW0Lkg0LTQu9GPINC60L3QvtC/0L7QulxuXHJcbiAgICAgICAgY29uc3QgZGVjcmVtZW50QnV0dG9uID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5kZWNyZW1lbnQnKTtcblxyXG4gICAgICAgIGRlY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxyXG4gICAgICAgICAgICBwYXJhbWV0ZXIudmFsdWUgPSBNYXRoLm1heCgwLCBwYXJhbWV0ZXIudmFsdWUgLSAxKTtcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJhbWV0ZXIubmFtZSkudmFsdWUgPSBwYXJhbWV0ZXIudmFsdWU7XG5cclxuICAgICAgICAgICAgdXBkYXRlUmVzdWx0KCk7XG5cclxuICAgICAgICB9KTtcblxyXG4gICAgXG5cclxuICAgICAgICBjb25zdCBpbmNyZW1lbnRCdXR0b24gPSBkaXYucXVlcnlTZWxlY3RvcignLmluY3JlbWVudCcpO1xuXHJcbiAgICAgICAgaW5jcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHJcbiAgICAgICAgICAgIHBhcmFtZXRlci52YWx1ZSsrO1xuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmFtZXRlci5uYW1lKS52YWx1ZSA9IHBhcmFtZXRlci52YWx1ZTtcblxyXG4gICAgICAgICAgICB1cGRhdGVSZXN1bHQoKTtcblxyXG4gICAgICAgIH0pO1xuXHJcbiAgICBcblxyXG4gICAgICAgIHJldHVybiBkaXY7XG5cclxuICAgIH1cblxyXG4gICAgXG5cclxuICAgIC8vINCk0YPQvdC60YbRltGPINC00LvRjyDQvtC90L7QstC70LXQvdC90Y8g0YDQtdC30YPQu9GM0YLQsNGC0YNcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlUmVzdWx0KCkge1xuXHJcbiAgICAgICAgLy8g0KDQvtC30YDQsNGF0YPQvdC+0Log0LLQsNGA0YLQvtGB0YLRliDQvdCwINC+0YHQvdC+0LLRliDQt9C90LDRh9C10L3RjCDQv9Cw0YDQsNC80LXRgtGA0ZbQslxuXHJcbiAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IGNhbGN1bGF0ZVByaWNlKHBhcmFtZXRlcnMpO1xuXHJcbiAgICAgICAgY29uc29sZS5sb2codG90YWxQcmljZSk7XG5cclxuICAgICAgICB3cm9uZ1ByaWNlLnRleHRDb250ZW50ID0gdG90YWxQcmljZSAvIDEwMCAqIDcwO1xuXHJcbiAgICAgICAgcmVzdWx0UHJpY2VGcm9tLnRleHRDb250ZW50ID0gdG90YWxQcmljZTtcblxyXG4gICAgICAgIHJlc3VsdFByaWNlVG8udGV4dENvbnRlbnQgPSB0b3RhbFByaWNlIC8gMTAwICogMTIwO1xuXHJcbiAgICBcblxyXG4gICAgICAgIC8vINCe0L3QvtCy0LvQtdC90L3RjyDRgdC/0LjRgdC60YMg0LTQtdGC0LDQu9C10LlcblxyXG4gICAgICAgIC8vIHJlc3VsdERldGFpbHMuaW5uZXJIVE1MID0gJyc7XG5cclxuICAgICAgICAvLyAuLi4g0YLRg9GCINC70L7Qs9GW0LrQsCDQtNC70Y8g0YTQvtGA0LzRg9Cy0LDQvdC90Y8g0YHQv9C40YHQutGDINC00LXRgtCw0LvQtdC5XG5cclxuICAgIH1cblxyXG4gICAgXG5cclxuICAgIGZ1bmN0aW9uIGdldFZhbHVlQnlOYW1lKG5hbWUpIHtcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xuXHJcbiAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzW2ldLm5hbWUgPT09IG5hbWUpIHtcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnNbaV0udmFsdWU7XG5cclxuICAgICAgICAgICAgfVxuXHJcbiAgICAgICAgfVxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7IFxuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVQcmljZShwYXJhbWV0ZXJzKSB7XG5cclxuICAgICAgICBjb25zdCBiYXNlUHJpY2UgPSAxMDAwO1xuXHJcbiAgICAgICAgY29uc3QgYXJlYVByaWNlID0gZ2V0VmFsdWVCeU5hbWUoJ3NxdWFyZScpICogNTA7XG5cclxuICAgICAgICBjb25zdCBjb3JuZXJzUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgnYW5nbGVzJykgKiAyMDtcblxyXG4gICAgICAgIGNvbnN0IGxpZ2h0aW5nUG9pbnRzUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgnbGlnaHRpbmdQb2ludHMnKSAqIDIwO1xuXHJcbiAgICAgICAgY29uc3QgY2hhbmRlbGllcnNQcmljZSA9IGdldFZhbHVlQnlOYW1lKCdjaGFuZGVsaWVycycpICogMjA7XG5cclxuICAgICAgICBjb25zdCByb2RQcmljZSA9IGdldFZhbHVlQnlOYW1lKCdyb2QnKSAqIDIwO1xuXHJcbiAgICAgICAgcmV0dXJuIGJhc2VQcmljZSArIGFyZWFQcmljZSArIGNvcm5lcnNQcmljZSArIGxpZ2h0aW5nUG9pbnRzUHJpY2UgKyBjaGFuZGVsaWVyc1ByaWNlICsgcm9kUHJpY2U7IC8vINCf0L7QstC10YDQvdGD0YLQuCDRgNC+0LfRgNCw0YXQvtCy0LDQvdGDINGG0ZbQvdGDXG5cclxuICAgIH1cblxyXG4gICAgXG5cclxuICAgIC8vINCh0YLQstC+0YDQtdC90L3RjyDQtdC70LXQvNC10L3RgtGW0LIg0YPQv9GA0LDQstC70ZbQvdC90Y8g0LTQu9GPINC60L7QttC90L7Qs9C+INC/0LDRgNCw0LzQtdGC0YDQsFxuXHJcbiAgICBwYXJhbWV0ZXJzLmZvckVhY2gocGFyYW1ldGVyID0+IHtcblxyXG4gICAgICAgIHBhcmFtZXRlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlUGFyYW1ldGVyRWxlbWVudChwYXJhbWV0ZXIpKTtcblxyXG4gICAgfSk7XG5cclxuICAgIFxuXHJcbiAgICAvLyDQn9C10YDRiNC40Lkg0YDQvtC30YDQsNGF0YPQvdC+0LpcblxyXG4gICAgdXBkYXRlUmVzdWx0KCk7XHJcblxyXG4gICAgJCggJy5pbm5lcl9fc2lkZWJhciBhJyApLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSB8fFxyXG4gICAgICAgICAgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wIC0gMTc1XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBsYXN0SWQsXHJcbiAgICAgICAgdG9wTWVudSA9ICQoJy5pbm5lcl9fc2lkZWJhcicpLFxyXG4gICAgICAgIHRvcE1lbnVIZWlnaHQgPSB0b3BNZW51Lm91dGVySGVpZ2h0KCkrMSxcclxuICAgICAgICBtZW51SXRlbXMgPSB0b3BNZW51LmZpbmQoJ2EnKSxcclxuICAgICAgICBzY3JvbGxJdGVtcyA9IG1lbnVJdGVtcy5tYXAoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCQodGhpcykuYXR0cignaHJlZicpKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoKSB7IHJldHVybiBpdGVtOyB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbWVudUl0ZW1zLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXHJcbiAgICAgICAgICAgIG9mZnNldFRvcCA9IGhyZWYgPT09ICcjJyA/IDAgOiAkKGhyZWYpLm9mZnNldCgpLnRvcC10b3BNZW51SGVpZ2h0KzE7XHJcbiAgICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHsgXHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogb2Zmc2V0VG9wXHJcbiAgICAgICAgfSwgODUwKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGZyb21Ub3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpK3RvcE1lbnVIZWlnaHQ7XHJcbiAgXHJcbiAgICAgICAgdmFyIGN1ciA9IHNjcm9sbEl0ZW1zLm1hcChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5vZmZzZXQoKS50b3AgPCBmcm9tVG9wKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3VyID0gY3VyW2N1ci5sZW5ndGgtMV07XHJcbiAgICAgICAgdmFyIGlkID0gY3VyICYmIGN1ci5sZW5ndGggPyBjdXJbMF0uaWQgOiAnJztcclxuICBcclxuICAgICAgICBpZiAobGFzdElkICE9PSBpZCkge1xyXG4gICAgICAgICAgICBsYXN0SWQgPSBpZDtcclxuICAgICAgICAgICAgbWVudUl0ZW1zXHJcbiAgICAgICAgICAgICAgICAucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAuZW5kKCkuZmlsdGVyKCdbaHJlZj1cIiMnK2lkKydcIl0nKS5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICBcclxuICAgIH0pO1xyXG59KTsiXX0=
