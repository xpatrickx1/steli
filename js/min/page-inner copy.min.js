"use strict";$(document).ready(function(){function e(e){var t=document.createElement("div");return t.classList.add("input-group"),t.innerHTML='\n\n        <label for="'.concat(e.name,'">').concat(e.name," ").concat(e.unit||"",'</label>\n\n        <input type="number" id="').concat(e.name,'" value="').concat(e.value,'">\n\n        <div class="calc__buttons">\n\n        <button class="decrement">-</button>\n\n        <button class="increment">+</button>\n\n        </div>\n\n      '),t.querySelector(".decrement").addEventListener("click",function(){e.value=Math.max(0,e.value-1),document.getElementById(e.name).value=e.value,n()}),t.querySelector(".increment").addEventListener("click",function(){e.value++,document.getElementById(e.name).value=e.value,n()}),t}function n(){var e=a(c);console.log(e),i.textContent=e/100*70,r.textContent=e,o.textContent=e/100*120}function t(e){for(var n=0;n<c.length;n++)if(c[n].name===e)return c[n].value;return null}function a(e){return 1e3+50*t("square")+20*t("angles")+20*t("lightingPoints")+20*t("chandeliers")+20*t("rod")}var l=document.getElementById("parameters"),r=document.getElementById("resultPriceFrom"),o=document.getElementById("resultPriceTo"),i=document.getElementById("wrongPrice"),c=(document.getElementById("result-details"),[{name:"square",unit:"Ð¼2",value:17},{name:"angles",value:4},{name:"lightingPoints",value:0},{name:"chandeliers",value:0},{name:"rod",value:0}]);c.forEach(function(n){l.appendChild(e(n))}),n(),$(".inner__sidebar a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var e=$(this.hash);e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length&&$("html, body").animate({scrollTop:e.offset().top-175},1e3)}});var u,s=$(".inner__sidebar"),m=s.outerHeight()+1,d=s.find("a"),h=d.map(function(){var e=$($(this).attr("href"));if(e.length)return e});d.click(function(e){var n=$(this).attr("href"),t="#"===n?0:$(n).offset().top-m+1;$("html, body").stop().animate({scrollTop:t},850),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+m,n=h.map(function(){if($(this).offset().top<e)return this});n=n[n.length-1];var t=n&&n.length?n[0].id:"";u!==t&&(u=t,d.parent().removeClass("active").end().filter('[href="#'+t+'"]').parent().addClass("active"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtaW5uZXIgY29weS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImNyZWF0ZVBhcmFtZXRlckVsZW1lbnQiLCJwYXJhbWV0ZXIiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiY29uY2F0IiwibmFtZSIsInVuaXQiLCJ2YWx1ZSIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiTWF0aCIsIm1heCIsImdldEVsZW1lbnRCeUlkIiwidXBkYXRlUmVzdWx0IiwidG90YWxQcmljZSIsImNhbGN1bGF0ZVByaWNlIiwicGFyYW1ldGVycyIsImNvbnNvbGUiLCJsb2ciLCJ3cm9uZ1ByaWNlIiwidGV4dENvbnRlbnQiLCJyZXN1bHRQcmljZUZyb20iLCJyZXN1bHRQcmljZVRvIiwiZ2V0VmFsdWVCeU5hbWUiLCJpIiwibGVuZ3RoIiwicGFyYW1ldGVyc0NvbnRhaW5lciIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJ0aGlzIiwiaG9zdG5hbWUiLCJ0YXJnZXQiLCJoYXNoIiwic2xpY2UiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwibGFzdElkIiwidG9wTWVudSIsInRvcE1lbnVIZWlnaHQiLCJvdXRlckhlaWdodCIsIm1lbnVJdGVtcyIsImZpbmQiLCJzY3JvbGxJdGVtcyIsIm1hcCIsIml0ZW0iLCJhdHRyIiwiZSIsImhyZWYiLCJvZmZzZXRUb3AiLCJzdG9wIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJzY3JvbGwiLCJmcm9tVG9wIiwiY3VyIiwiaWQiLCJwYXJlbnQiLCJyZW1vdmVDbGFzcyIsImVuZCIsImZpbHRlciIsImFkZENsYXNzIl0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRUMsVUFBVUMsTUFBTSxXQWtDZCxRQUFTQyxHQUF1QkMsR0FFNUIsR0FBTUMsR0FB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QUFRQyxPQUFPLFdBQ2IsR0FBSUMsR0FBVWpFLEVBQUV1QyxNQUFNTSxZQUFZSyxFQUU5QmdCLEVBQU1aLEVBQVlDLElBQUksV0FDdEIsR0FBSXZELEVBQUV1QyxNQUFNTyxTQUFTQyxJQUFNa0IsRUFDdkIsTUFBTzFCLE9BRWYyQixHQUFNQSxFQUFJQSxFQUFJbkMsT0FBTyxFQUNyQixJQUFJb0MsR0FBS0QsR0FBT0EsRUFBSW5DLE9BQVNtQyxFQUFJLEdBQUdDLEdBQUssRUFFckNuQixLQUFXbUIsSUFDWG5CLEVBQVNtQixFQUNUZixFQUNLZ0IsU0FBU0MsWUFBWSxVQUNyQkMsTUFBTUMsT0FBTyxXQUFXSixFQUFHLE1BQU1DLFNBQVNJLFNBQVMiLCJmaWxlIjoianMvbWluL3BhZ2UtaW5uZXIgY29weS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcblxyXG4gICAgY29uc3QgcGFyYW1ldGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJhbWV0ZXJzJyk7XG5cclxuICAgIGNvbnN0IHJlc3VsdFByaWNlRnJvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRQcmljZUZyb20nKTtcblxyXG4gICAgY29uc3QgcmVzdWx0UHJpY2VUbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRQcmljZVRvJyk7XG5cclxuICAgIGNvbnN0IHdyb25nUHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JvbmdQcmljZScpO1xuXHJcbiAgICBjb25zdCByZXN1bHREZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdC1kZXRhaWxzJyk7XG5cclxuICAgIFxuXHJcbiAgICAvLyDQnNCw0YHQuNCyINC3INC/0LDRgNCw0LzQtdGC0YDQsNC80Lgg0YLQsCDRl9GF0L3RltC80Lgg0L/QvtGH0LDRgtC60L7QstC40LzQuCDQt9C90LDRh9C10L3QvdGP0LzQuFxuXHJcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gW1xuXHJcbiAgICAgICAgeyBuYW1lOiAnc3F1YXJlJywgdW5pdDogJ9C8MicsIHZhbHVlOiAxNyB9LFxuXHJcbiAgICAgICAgeyBuYW1lOiAnYW5nbGVzJywgdmFsdWU6IDQgfSxcblxyXG4gICAgICAgIHsgbmFtZTogJ2xpZ2h0aW5nUG9pbnRzJywgdmFsdWU6IDAgfSxcblxyXG4gICAgICAgIHsgbmFtZTogJ2NoYW5kZWxpZXJzJywgdmFsdWU6IDAgfSxcblxyXG4gICAgICAgIHsgbmFtZTogJ3JvZCcsIHZhbHVlOiAwIH0sXG5cclxuICAgIF07XG5cclxuICAgIFxuXHJcbiAgICAvLyDQpNGD0L3QutGG0ZbRjyDQtNC70Y8g0YHRgtCy0L7RgNC10L3QvdGPINC10LvQtdC80LXQvdGC0ZbQsiDRg9C/0YDQsNCy0LvRltC90L3RjyDQtNC70Y8g0L/QsNGA0LDQvNC10YLRgNCwXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcmFtZXRlckVsZW1lbnQocGFyYW1ldGVyKSB7XG5cclxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxyXG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdpbnB1dC1ncm91cCcpO1xuXHJcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGBcblxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCIke3BhcmFtZXRlci5uYW1lfVwiPiR7cGFyYW1ldGVyLm5hbWV9ICR7cGFyYW1ldGVyLnVuaXQgfHwgJyd9PC9sYWJlbD5cblxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgaWQ9XCIke3BhcmFtZXRlci5uYW1lfVwiIHZhbHVlPVwiJHtwYXJhbWV0ZXIudmFsdWV9XCI+XG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FsY19fYnV0dG9uc1wiPlxuXHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRlY3JlbWVudFwiPi08L2J1dHRvbj5cblxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJpbmNyZW1lbnRcIj4rPC9idXR0b24+XG5cclxuICAgICAgICA8L2Rpdj5cblxyXG4gICAgICBgO1xuXHJcbiAgICBcblxyXG4gICAgICAgIC8vINCe0LHRgNC+0LHQvdC40LrQuCDQv9C+0LTRltC5INC00LvRjyDQutC90L7Qv9C+0LpcblxyXG4gICAgICAgIGNvbnN0IGRlY3JlbWVudEJ1dHRvbiA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuZGVjcmVtZW50Jyk7XG5cclxuICAgICAgICBkZWNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cclxuICAgICAgICAgICAgcGFyYW1ldGVyLnZhbHVlID0gTWF0aC5tYXgoMCwgcGFyYW1ldGVyLnZhbHVlIC0gMSk7XG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyYW1ldGVyLm5hbWUpLnZhbHVlID0gcGFyYW1ldGVyLnZhbHVlO1xuXHJcbiAgICAgICAgICAgIHVwZGF0ZVJlc3VsdCgpO1xuXHJcbiAgICAgICAgfSk7XG5cclxuICAgIFxuXHJcbiAgICAgICAgY29uc3QgaW5jcmVtZW50QnV0dG9uID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5pbmNyZW1lbnQnKTtcblxyXG4gICAgICAgIGluY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxyXG4gICAgICAgICAgICBwYXJhbWV0ZXIudmFsdWUrKztcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJhbWV0ZXIubmFtZSkudmFsdWUgPSBwYXJhbWV0ZXIudmFsdWU7XG5cclxuICAgICAgICAgICAgdXBkYXRlUmVzdWx0KCk7XG5cclxuICAgICAgICB9KTtcblxyXG4gICAgXG5cclxuICAgICAgICByZXR1cm4gZGl2O1xuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICAvLyDQpNGD0L3QutGG0ZbRjyDQtNC70Y8g0L7QvdC+0LLQu9C10L3QvdGPINGA0LXQt9GD0LvRjNGC0LDRgtGDXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlc3VsdCgpIHtcblxyXG4gICAgICAgIC8vINCg0L7Qt9GA0LDRhdGD0L3QvtC6INCy0LDRgNGC0L7RgdGC0ZYg0L3QsCDQvtGB0L3QvtCy0ZYg0LfQvdCw0YfQtdC90Ywg0L/QsNGA0LDQvNC10YLRgNGW0LJcblxyXG4gICAgICAgIGNvbnN0IHRvdGFsUHJpY2UgPSBjYWxjdWxhdGVQcmljZShwYXJhbWV0ZXJzKTtcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRvdGFsUHJpY2UpO1xuXHJcbiAgICAgICAgd3JvbmdQcmljZS50ZXh0Q29udGVudCA9IHRvdGFsUHJpY2UgLyAxMDAgKiA3MDtcblxyXG4gICAgICAgIHJlc3VsdFByaWNlRnJvbS50ZXh0Q29udGVudCA9IHRvdGFsUHJpY2U7XG5cclxuICAgICAgICByZXN1bHRQcmljZVRvLnRleHRDb250ZW50ID0gdG90YWxQcmljZSAvIDEwMCAqIDEyMDtcblxyXG4gICAgXG5cclxuICAgICAgICAvLyDQntC90L7QstC70LXQvdC90Y8g0YHQv9C40YHQutGDINC00LXRgtCw0LvQtdC5XG5cclxuICAgICAgICAvLyByZXN1bHREZXRhaWxzLmlubmVySFRNTCA9ICcnO1xuXHJcbiAgICAgICAgLy8gLi4uINGC0YPRgiDQu9C+0LPRltC60LAg0LTQu9GPINGE0L7RgNC80YPQstCw0L3QvdGPINGB0L/QuNGB0LrRgyDQtNC10YLQsNC70LXQuVxuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICBmdW5jdGlvbiBnZXRWYWx1ZUJ5TmFtZShuYW1lKSB7XG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcblxyXG4gICAgICAgICAgICBpZiAocGFyYW1ldGVyc1tpXS5uYW1lID09PSBuYW1lKSB7XG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbWV0ZXJzW2ldLnZhbHVlO1xuXHJcbiAgICAgICAgICAgIH1cblxyXG4gICAgICAgIH1cblxyXG4gICAgICAgIHJldHVybiBudWxsOyBcblxyXG4gICAgfVxuXHJcbiAgICBcblxyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlUHJpY2UocGFyYW1ldGVycykge1xuXHJcbiAgICAgICAgY29uc3QgYmFzZVByaWNlID0gMTAwMDtcblxyXG4gICAgICAgIGNvbnN0IGFyZWFQcmljZSA9IGdldFZhbHVlQnlOYW1lKCdzcXVhcmUnKSAqIDUwO1xuXHJcbiAgICAgICAgY29uc3QgY29ybmVyc1ByaWNlID0gZ2V0VmFsdWVCeU5hbWUoJ2FuZ2xlcycpICogMjA7XG5cclxuICAgICAgICBjb25zdCBsaWdodGluZ1BvaW50c1ByaWNlID0gZ2V0VmFsdWVCeU5hbWUoJ2xpZ2h0aW5nUG9pbnRzJykgKiAyMDtcblxyXG4gICAgICAgIGNvbnN0IGNoYW5kZWxpZXJzUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgnY2hhbmRlbGllcnMnKSAqIDIwO1xuXHJcbiAgICAgICAgY29uc3Qgcm9kUHJpY2UgPSBnZXRWYWx1ZUJ5TmFtZSgncm9kJykgKiAyMDtcblxyXG4gICAgICAgIHJldHVybiBiYXNlUHJpY2UgKyBhcmVhUHJpY2UgKyBjb3JuZXJzUHJpY2UgKyBsaWdodGluZ1BvaW50c1ByaWNlICsgY2hhbmRlbGllcnNQcmljZSArIHJvZFByaWNlOyAvLyDQn9C+0LLQtdGA0L3Rg9GC0Lgg0YDQvtC30YDQsNGF0L7QstCw0L3RgyDRhtGW0L3Rg1xuXHJcbiAgICB9XG5cclxuICAgIFxuXHJcbiAgICAvLyDQodGC0LLQvtGA0LXQvdC90Y8g0LXQu9C10LzQtdC90YLRltCyINGD0L/RgNCw0LLQu9GW0L3QvdGPINC00LvRjyDQutC+0LbQvdC+0LPQviDQv9Cw0YDQsNC80LXRgtGA0LBcblxyXG4gICAgcGFyYW1ldGVycy5mb3JFYWNoKHBhcmFtZXRlciA9PiB7XG5cclxuICAgICAgICBwYXJhbWV0ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVBhcmFtZXRlckVsZW1lbnQocGFyYW1ldGVyKSk7XG5cclxuICAgIH0pO1xuXHJcbiAgICBcblxyXG4gICAgLy8g0J/QtdGA0YjQuNC5INGA0L7Qt9GA0LDRhdGD0L3QvtC6XG5cclxuICAgIHVwZGF0ZVJlc3VsdCgpO1xyXG5cclxuICAgICQoICcuaW5uZXJfX3NpZGViYXIgYScgKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSA9PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgfHxcclxuICAgICAgICAgIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDE3NVxyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgbGFzdElkLFxyXG4gICAgICAgIHRvcE1lbnUgPSAkKCcuaW5uZXJfX3NpZGViYXInKSxcclxuICAgICAgICB0b3BNZW51SGVpZ2h0ID0gdG9wTWVudS5vdXRlckhlaWdodCgpKzEsXHJcbiAgICAgICAgbWVudUl0ZW1zID0gdG9wTWVudS5maW5kKCdhJyksXHJcbiAgICAgICAgc2Nyb2xsSXRlbXMgPSBtZW51SXRlbXMubWFwKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCkgeyByZXR1cm4gaXRlbTsgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG1lbnVJdGVtcy5jbGljayhmdW5jdGlvbihlKXtcclxuICAgICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpLFxyXG4gICAgICAgICAgICBvZmZzZXRUb3AgPSBocmVmID09PSAnIycgPyAwIDogJChocmVmKS5vZmZzZXQoKS50b3AtdG9wTWVudUhlaWdodCsxO1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7IFxyXG4gICAgICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFRvcFxyXG4gICAgICAgIH0sIDg1MCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBmcm9tVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKSt0b3BNZW51SGVpZ2h0O1xyXG4gIFxyXG4gICAgICAgIHZhciBjdXIgPSBzY3JvbGxJdGVtcy5tYXAoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykub2Zmc2V0KCkudG9wIDwgZnJvbVRvcClcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGN1ciA9IGN1cltjdXIubGVuZ3RoLTFdO1xyXG4gICAgICAgIHZhciBpZCA9IGN1ciAmJiBjdXIubGVuZ3RoID8gY3VyWzBdLmlkIDogJyc7XHJcbiAgXHJcbiAgICAgICAgaWYgKGxhc3RJZCAhPT0gaWQpIHtcclxuICAgICAgICAgICAgbGFzdElkID0gaWQ7XHJcbiAgICAgICAgICAgIG1lbnVJdGVtc1xyXG4gICAgICAgICAgICAgICAgLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgLmVuZCgpLmZpbHRlcignW2hyZWY9XCIjJytpZCsnXCJdJykucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0gICAgICAgICAgICAgICAgICAgXHJcbiAgICB9KTtcclxufSk7Il19
